# PlanetPlant Server Environment Variables
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=development

# Server Configuration
PORT=3000
HOST=0.0.0.0
CORS_ORIGINS=http://localhost:3001,http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# MQTT Broker Settings
MQTT_HOST=localhost
MQTT_PORT=1883
MQTT_USERNAME=plantplant
MQTT_PASSWORD=plantplant123
MQTT_CLIENT_ID=plantplant-server
MQTT_KEEPALIVE=60
MQTT_CONNECT_TIMEOUT=10000
MQTT_RECONNECT_INTERVAL=5000
MQTT_MAX_RETRY_COUNT=10

# InfluxDB Configuration
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=plantplant-super-secret-auth-token
INFLUXDB_ORG=plantplant
INFLUXDB_BUCKET=sensors

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=plantplant123
REDIS_DB=0

# Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# Email Configuration (Optional)
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
ALERT_RECIPIENTS=admin@plantplant.com

# Watering System Settings
MOISTURE_THRESHOLD_MIN=30
MOISTURE_THRESHOLD_MAX=80
TEMPERATURE_MIN=15
TEMPERATURE_MAX=35
PUMP_MAX_DURATION_MS=10000
PUMP_COOLDOWN_MS=300000
PUMP_FLOW_RATE_ML_PER_SEC=5

# Sensor Calibration
MOISTURE_SENSOR_DRY_VALUE=1023
MOISTURE_SENSOR_WET_VALUE=0
TEMPERATURE_OFFSET=0
HUMIDITY_OFFSET=0

# Data Retention
SENSOR_DATA_RETENTION=30d
EVENT_DATA_RETENTION=90d
LOG_RETENTION=7d

# Logging Configuration
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_TO_CONSOLE=true
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
MQTT_VERBOSE_LOGGING=false
SENSOR_VERBOSE_LOGGING=false
DEBUG_LOGGING=false

# API Keys (for external services)
WEATHER_API_KEY=your-weather-api-key
PUSH_NOTIFICATION_KEY=your-push-notification-key

# Device Configuration
DEVICE_ID=rpi-zero-2w-001
DEVICE_LOCATION=Living Room

# Feature Flags
ENABLE_SCHEDULER=true
ENABLE_WEATHER_INTEGRATION=false
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_AUTO_WATERING=true

# Timezone Configuration
TIMEZONE=Europe/Berlin

# Development/Debug
DEBUG=plantplant:*
VERBOSE_LOGGING=false

# Health Check Thresholds
HEALTH_MEMORY_THRESHOLD=90
HEALTH_CPU_THRESHOLD=80
HEALTH_RESPONSE_TIME_THRESHOLD=2000

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=5000

# Automation Settings
AUTOMATION_CHECK_INTERVAL=300000
AUTOMATION_MAX_DAILY_WATERINGS=3
AUTOMATION_QUIET_HOURS_START=22:00
AUTOMATION_QUIET_HOURS_END=06:00